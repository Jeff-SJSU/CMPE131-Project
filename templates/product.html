{% extends "layout.html" %}
{% import "includes/components.html" as components %}
{% block content %}

<div class="row mt-3">
    <div class="col-4">
        <img src="/static/images/products/{{ item.img }}" class="img-fluid border d-block rounded mb-2" alt="{{ item.name }}">
    </div>
    <div class="col-8">
        <h2 class="mt-2 mb-0">{{ item.name }}</h2>
        <div class="mb-3">
            <div class="mb-2">{{ components.price(item.price) }}</div>
            <a class="btn bg-gradient shadow btn-primary me-1" role="button" href="/cart/add/{{ item.id }}"><i class="bi bi-plus-lg"></i> Add to Cart</a>
            <span class="dropdown">
                <a class="btn btn-outline-secondary dropdown-toggle" role="button" data-bs-toggle="dropdown">Add to List</a>
                <ul class="dropdown-menu">
                    {% for list in current_user.lists %}
                    <li><a class="dropdown-item" href="/lists/{{list.id}}/add/{{item.id}}">{{list.name}}</a></li>
                    {% endfor %}
                </ul>
            </span>
            {% if current_user.id == item.uploader %}
                <a class="btn btn-danger me-1" role="button" href="/product/{{ item.id }}/delete"> Delete Listing</a>
            {% endif %}
        </div>
        <p>{{ item.description }}</p>
    </div>
</div>

{% endblock %}